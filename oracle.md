
## SSL AUTHENTICATION USING PKI FOR ORACLE DATABASES

# create user inside Database

CREATE USER albert IDENTIFIED EXTERNALLY AS 'CN=albert,OU=user_cert,O=MyCompany,C=US';

GRANT CONNECT, CREATE TABLE to albert;


# update sqlnet.ora on server
...
SQLNET.AUTHENTICATION_SERVICES=(TCPS, BEQ)

SSL_CLIENT_AUTHENTICATION=TRUE

WALLET_LOCATION = (SOURCE=(METHOD = FILE)
	(
		METHOD_DATA =(DIRECTORY=/etc/oracle/wallet)
	)
)

SSL_CIPHER_SUITES = (SSL_RSA_WITH_AES_256_CBC_SHA ... )

LISTENER_1521 =
	(DESCRIPTION =
		(ADDRESS = (PROTOCOL = IPC)(KEY = REGLSNR_1521))
		(ADDRESS = (PROTOCOL = TCPS)(HOST =mydbservermycompany.com)(PORT=1521))
)

# client side sqlnet.ora

SQLNET.AUTHENTICATION_SERVICES=(TCPS,BEQ)

SSL_CLIENT_AUTHENTICATION = TRUE

SSL_CIPHER_SUITES =(SSL_RSA_WITH_AES_256_GCM_SHA384 ...)

WALLET_LOCATION = (SOURCE = (METHOD = FILE)
	(METHOD_DATA =
		(DIRECTORY=/home/albert/wallet)
	)
)

# client tnsnames.ora file 

MYDB =(DESCRIPTION =
	(
		ADDRESS = 
			(PROTOCOL = TCPS)
			(HOST = mydb.mycompany.com)
			(PORT = 1521))
	(
		CONNECT_DATA =	
			(SERVER = DEDICATED)	
			(SERVICE_NAME = MYDB)
	)
)


# use sqlplus login

 sqlplus /@MYDB
 
 